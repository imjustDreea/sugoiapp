body{
    margin: 0;
    background: var(--color-bg, #1A1A1A);
    color: var(--text-foreground);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    min-height: 100vh;
}

.pixel-art {
    image-rendering: pixelated;
    width: 128px;
    height: 128px;
}

.pixel-effect {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
}

/* utility classes mapping to palette tokens */
.text-accentViolet { color: var(--accent-violet); }
.bg-accentViolet { background-color: var(--accent-violet); }
.text-accentLime { color: var(--accent-lime); }
.bg-accentLime { background-color: var(--accent-lime); }
.border-grid { border-color: var(--color-grid); }

/* additional palette-aware utilities */
.bg-darkCard { background-color: var(--color-darkCard); }
.bg-panel { background-color: var(--color-darkCard); }
.text-muted { color: var(--muted-foreground); }
.text-muted-dim { color: rgba(255,255,255,0.65); }
.tag-popular { background-color: var(--color-darkCard); border: 1px solid var(--color-grid); color: var(--muted-foreground); }
.status-ongoing { background-color: rgba(196,255,77,0.10); color: var(--accent-lime); }
.status-other { background-color: rgba(186,140,255,0.07); color: var(--accent-violet); }
.btn-accent { background-color: var(--accent-violet); color: white; }
.btn-accent-lime { background-color: var(--accent-lime); color: black; }
.border-grid-weak { border-color: var(--color-grid); }

/* common surface / layout tokens */
.bg-dark { background-color: var(--color-bg); }
.bg-darkPanel { background-color: var(--color-darkCard); }
.bg-panel { background-color: var(--color-darkCard); }
.shadow-card { box-shadow: var(--boxShadow-card); }

/* accents alias (legacy names used across project) */
.text-accentPurple { color: var(--accent-violet); }
.border-accentPurple { border-color: var(--accent-violet); }
.text-accentPink { color: var(--accent-violet); }

/* gradient helper used where previous utility classes were present */
.bg-linear-to-r { background-image: linear-gradient(90deg, var(--accent-violet), var(--accent-violet)); }
.gradient-accent { background-image: linear-gradient(90deg, var(--accent-violet), var(--accent-violet)); }

/* link helper to provide hover color without relying on Tailwind custom tokens */
.link { color: inherit; text-decoration: none; }
.link:hover { color: var(--accent-violet); }

/* small helpers */
.btn-panel { background-color: var(--color-darkCard); }
.btn-panel:hover { opacity: 0.95; }

/* focus ring fallback */
.focus-ring:focus { outline: none; box-shadow: 0 0 0 4px rgba(186,140,255,0.12); }

/* Sidebar link hover style: subtle + consistent */
.sidebar-link { display: inline-flex; align-items: center; gap: 0.75rem; border-radius: 0.75rem; transition: background-color 180ms ease, color 180ms ease; }
.sidebar-link:not(.active):hover { background-color: color-mix(in srgb, var(--accent-violet) 22%, transparent); color: var(--text-foreground); }
.sidebar-link svg { color: inherit; }

/* active state (NavLink) */
.sidebar-link.active { background-color: var(--accent-violet); color: white; }
.sidebar-link.active svg { color: white; }

/* topbar active link */
.link.active { color: var(--accent-violet); font-weight: 600; }

/* collapse toggle button in sidebar */
.sidebar-toggle {
    z-index: 60;
    color: var(--text-foreground);
    border: 1px solid var(--color-grid);
    background-color: var(--color-darkCard);
    transition: transform 150ms ease, box-shadow 150ms ease, right 150ms ease;
}
.sidebar-toggle:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.45); }
/* Ensure lucide SVGs render with the expected stroke color */
.sidebar-toggle svg { stroke: currentColor !important; color: currentColor !important; }

.sidebar-toggle { pointer-events: auto; }

/* Mobile search overlay animations */
.search-overlay {
    -webkit-tap-highlight-color: transparent;
}
.search-overlay .transition-opacity {
    transition: opacity 180ms ease;
}
.search-overlay .transform.transition-all {
    transition: opacity 180ms ease, transform 180ms ease;
}
.search-overlay.open .transform { transform: translateY(0); opacity: 1; }
.search-overlay.closing .transform { transform: translateY(8px); opacity: 0; }

/* Hide tiny seam between sidebar and main by drawing a same-color right border */
.sidebar-seam { border-right: 1px solid var(--color-darkCard); }

/* Sidebar label transition: animate opacity/translate on sm+ to avoid abrupt layout jumps */
.sidebar-label {
    transition: opacity 160ms ease, transform 160ms ease;
    will-change: opacity, transform;
}

/* Page titles with pixel art */
.page-title {
    font-family: 'Press Start 2P', monospace;
    font-size: 1.5rem;
    line-height: 1.2;
    background: linear-gradient(90deg, #00ff41 0%, rgba(168, 85, 247, 0.9) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Floating panel visual tweaks */
.sidebar-seam + .hidden { }
.sidebar-panel-shadow { box-shadow: 0 8px 24px rgba(0,0,0,0.6); }

/* =====================
   Pixel UI (Login/Register)
   ===================== */

.pixel-font {
    font-family: 'Press Start 2P', monospace;
}

.pixel-screen {
    min-height: 100vh;
    background-color: var(--color-bg);
    background-image:
        linear-gradient(
            0deg,
            color-mix(in srgb, var(--color-grid) 18%, transparent) 1px,
            transparent 1px
        ),
        linear-gradient(
            90deg,
            color-mix(in srgb, var(--color-grid) 18%, transparent) 1px,
            transparent 1px
        );
    background-size: 24px 24px;
}

.pixel-window {
    background-color: var(--color-darkCard);
    border: 3px solid var(--color-grid);
    box-shadow: var(--boxShadow-card);
    image-rendering: pixelated;
}

.pixel-window-header {
    border-bottom: 3px solid var(--color-grid);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

.pixel-window-title {
    font-family: 'Press Start 2P', monospace;
    font-size: 0.8rem;
    line-height: 1.2;
    color: var(--text-foreground);
}

.pixel-badge {
    font-family: 'Press Start 2P', monospace;
    font-size: 0.65rem;
    padding: 6px 10px;
    border: 2px solid var(--color-grid);
    color: var(--text-foreground);
    background: color-mix(in srgb, var(--accent-violet) 18%, transparent);
}

.pixel-field-label {
    font-family: 'Press Start 2P', monospace;
    font-size: 0.6rem;
    color: var(--muted-foreground);
    letter-spacing: 0.02em;
}

.pixel-input {
    width: 100%;
    height: 48px;
    border: 2px solid var(--color-grid);
    background-color: color-mix(in srgb, var(--color-darkCard) 82%, transparent);
    color: var(--text-foreground);
    padding: 10px 12px;
    border-radius: 0; /* sharp corners for pixel vibe */
    outline: none;
}

.pixel-input:focus {
    border-color: var(--accent-lime);
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent-lime) 22%, transparent);
}

.pixel-btn {
    width: 100%;
    border: 2px solid var(--color-grid);
    border-radius: 0;
    padding: 12px 12px;
    font-family: 'Press Start 2P', monospace;
    font-size: 0.65rem;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    color: #0b0b0d;
    background-color: var(--accent-lime);
    transition: filter 120ms ease, transform 120ms ease;
}

.pixel-btn:hover { filter: brightness(1.03); transform: translateY(-1px); }
.pixel-btn:active { transform: translateY(0); }
.pixel-btn:disabled { opacity: 0.6; transform: none; filter: none; }

.pixel-btn-secondary {
    color: var(--text-foreground);
    background-color: color-mix(in srgb, var(--accent-violet) 30%, transparent);
}

.pixel-field-row {
    display: flex;
    align-items: center;
    gap: 10px;
}

.pixel-icon-slot {
    width: 48px;
    height: 48px;
    flex: 0 0 48px;
    border: 2px solid var(--color-grid);
    background-color: color-mix(in srgb, var(--color-darkCard) 88%, transparent);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--muted-foreground);
    image-rendering: pixelated;
}

.pixel-icon-button {
    width: 48px;
    height: 48px;
    flex: 0 0 48px;
    border: 2px solid var(--color-grid);
    background-color: color-mix(in srgb, var(--color-darkCard) 88%, transparent);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--muted-foreground);
    cursor: pointer;
    padding: 0;
}

.pixel-icon-button:hover {
    color: var(--accent-lime);
}

.pixel-alert {
    border: 2px solid var(--color-grid);
    background: color-mix(in srgb, var(--accent-violet) 12%, transparent);
    color: var(--text-foreground);
    padding: 10px 12px;
    font-family: 'Press Start 2P', monospace;
    font-size: 0.6rem;
    line-height: 1.35;
}
